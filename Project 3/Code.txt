const int buttnB = 13;
const int buttnP = 5;
const int redT = 11;
const int yellow = 9;
const int greenT = 8;
const int redP = 12;
const int greenP = 10;
int currentstate = redT;

void setup() {
  
  pinMode(redT, OUTPUT);
  pinMode(yellow, OUTPUT);
  pinMode(greenT, OUTPUT);
  pinMode(greenP, OUTPUT);
  pinMode(redP, OUTPUT);
  pinMode(buttnB, INPUT);
  pinMode(buttnP, INPUT);
 
}

void loop() {

    defaultlights();

  switch (currentstate){

  case redT:
  
//pedestrian lights
  if (digitalRead(buttnP) == HIGH){
    switchingLights2();
    currentstate = yellow;
} 
    


  case yellow:

//pedestrian lights
if (digitalRead(buttnP) == HIGH){
    switchingLights1();
    currentstate = greenT;
     
     
  }
    
    
 case greenT:

//pedestrian lights
if (digitalRead(buttnP) == HIGH){
    switchingLights0();
    currentstate = yellow;
 }
    //driver control lights
  else if (digitalRead(buttnB) == HIGH) {
      switchingLights3();
      currentstate = yellow;
    }
  }
}

void defaultlights(){
       
       digitalWrite(redT, HIGH);
       digitalWrite(yellow, LOW);
       digitalWrite(greenT, LOW);
       digitalWrite(greenP, HIGH);
       digitalWrite(redP, LOW);
       delay(5000);

       digitalWrite(redT, HIGH);
       digitalWrite(yellow, LOW);
       digitalWrite(greenT, LOW);
       digitalWrite(greenP, LOW);
       digitalWrite(redP, HIGH);
       delay(2000);

       digitalWrite(redT, LOW);
       digitalWrite(yellow, HIGH);
       digitalWrite(greenT, LOW);
       digitalWrite(greenP, LOW);
       digitalWrite(redP, HIGH);
       delay(3000);

       digitalWrite(redT, LOW);
       digitalWrite(yellow, LOW);
       digitalWrite(greenT, HIGH);
       digitalWrite(greenP, LOW);
       digitalWrite(redP, HIGH);
       delay(5000);

       digitalWrite(redT, LOW);
       digitalWrite(yellow, HIGH);
       digitalWrite(greenT, LOW);
       digitalWrite(greenP, LOW);
       digitalWrite(redP, HIGH);
       delay(3000);

       digitalWrite(redT, HIGH);
       digitalWrite(yellow, LOW);
       digitalWrite(greenT, LOW);
       digitalWrite(greenP, LOW);
       digitalWrite(redP, HIGH);
       delay(2000);

      
}


void switchingLights2(){

       digitalWrite(redT, HIGH);
       digitalWrite(yellow, LOW);
       digitalWrite(greenT, LOW);
       digitalWrite(greenP, HIGH);
       digitalWrite(redP, LOW);
       delay(5000);
}


void switchingLights1(){

       digitalWrite(redT, HIGH);
       digitalWrite(yellow, LOW);
       digitalWrite(greenT, LOW);
       digitalWrite(greenP, LOW);
       digitalWrite(redP, HIGH);
       delay(1000);

       digitalWrite(redT, HIGH);
       digitalWrite(yellow, LOW);
       digitalWrite(greenT, LOW);
       digitalWrite(greenP, HIGH);
       digitalWrite(redP, LOW);
       delay(5000);
  
}

void switchingLights0(){
      
       digitalWrite(redT, LOW);
       digitalWrite(yellow, HIGH);
       digitalWrite(greenT, LOW);
       digitalWrite(greenP, LOW);
       digitalWrite(redP, HIGH);
       delay(1000);

       digitalWrite(redT, HIGH);
       digitalWrite(yellow, LOW);
       digitalWrite(greenT, LOW);
       digitalWrite(greenP, LOW);
       digitalWrite(redP, HIGH);
       delay(1000);

       digitalWrite(redT, HIGH);
       digitalWrite(yellow, LOW);
       digitalWrite(greenT, LOW);
       digitalWrite(greenP, HIGH);
       digitalWrite(redP, LOW);
       delay(5000);
  
}

void switchingLights3(){
       
  
       digitalWrite(redT, HIGH);
       digitalWrite(yellow, LOW);
       digitalWrite(greenT, LOW);
       digitalWrite(greenP, LOW);
       digitalWrite(redP, HIGH);
       delay(1000);
  
       digitalWrite(redT, LOW);
       digitalWrite(yellow, HIGH);
       digitalWrite(greenT, LOW);
       digitalWrite(greenP, LOW);
       digitalWrite(redP, HIGH);
       delay(2000);
  
       digitalWrite(redT, LOW);
       digitalWrite(yellow, LOW);
       digitalWrite(greenT, HIGH);
       digitalWrite(greenP, LOW);
       digitalWrite(redP, HIGH);
       delay(15000);
  
       digitalWrite(redT, LOW);
       digitalWrite(yellow, HIGH);
       digitalWrite(greenT, LOW);
       digitalWrite(greenP, LOW);
       digitalWrite(redP, HIGH);
       delay(2000);
  
       digitalWrite(redT, HIGH);
       digitalWrite(yellow, LOW);
       digitalWrite(greenT, LOW);
       digitalWrite(greenP, LOW);
       digitalWrite(redP, HIGH);
       delay(2000);
  
}


